(this["webpackJsonpreact-play"]=this["webpackJsonpreact-play"]||[]).push([[0],{121:function(e,t,a){},127:function(e,t,a){},132:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),i=a(26),r=a.n(i),s=a(8),l=a(108),o=a(13),j=a(21),d=a(7),u=a(214),h=a(213),b=(a(121),function(e){var t=Object(j.b)(),a=t.isAuthenticated,i=t.loginWithRedirect,r=t.logout,l=t.user,d=Object(c.useState)(e.currentLocation||e.location.pathname.slice(1)||"Home"),b=Object(s.a)(d,2),m=b[0],x=b[1],O=Object(o.g)();return Object(n.jsx)("div",{className:"nav-container",children:Object(n.jsxs)(u.a,{expand:"lg",collapseOnSelect:"true",className:"custom-nav",onSelect:function(t){if("log-in-out"!==t){var n="/"+t;x(t),e.location.pathname!==n&&O.push(n)}else a?r({returnTo:window.location.origin}):i()},children:[Object(n.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsxs)(u.a.Brand,{className:"app-name",children:[Object(n.jsx)("a",{href:"https://github.com/flaviuspilca/react-play",target:"_blanc",children:Object(n.jsx)("span",{className:"image-logo"})}),Object(n.jsx)("span",{className:"app-title",children:Object(n.jsxs)("h3",{children:[m===e.location.pathname.slice(1).toLowerCase()?m:e.currentLocation||"Home"," page"]})})]}),Object(n.jsx)(h.a,{className:"ml-auto",children:Object(n.jsx)(u.a.Text,{children:Object(n.jsx)("h3",{children:a?"Welcome "+l.name:"Welcome! You are not logged in!"})})}),a&&Object(n.jsx)(u.a.Brand,{children:Object(n.jsx)("img",{src:l.picture,alt:"Profile",className:"rounded-circle"})}),Object(n.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:Object(n.jsx)(h.a,{className:"mr-auto",children:e.config.map((function(e,t){return e.show?Object(n.jsx)(h.a.Link,{href:"#",eventKey:e.pageName.toLowerCase(),children:Object(n.jsx)("h3",{children:"log-in-out"===e.pageName.toLowerCase()?a?"Log Out":"Log In":e.pageName})},t):""}))})})]})})}),m=(a(127),function(){return Object(n.jsx)("footer",{className:"footer-container container-fluid flex-grow-0 flex-shrink-1",children:"Work by Flavius"})}),x=a(101),O=function(){return Object(n.jsx)("div",{className:"d-flex justify-content-center loading-container align-items-center",children:Object(n.jsx)(x.a,{animation:"border",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})},p=a(36),g=a.n(p),f=a(14),v=a(102),y=a.n(v),w=(a(131),a(132),function(e){var t=Object(j.b)(),a=t.isAuthenticated,i=t.loginWithRedirect,r=t.logout,l=Object(o.g)(),d=Object(c.useState)(!1),u=Object(s.a)(d,2),h=u[0],b=u[1];return Object(n.jsx)("div",{className:"sidebar-container",children:Object(n.jsx)(y.a,{onClickOutside:function(){b(!1)},children:Object(n.jsxs)(g.a,{expanded:h,onToggle:function(e){b(e)},onSelect:function(t){if("log-in-out"!==t){var n="/"+t;e.location.pathname!==n&&l.push(n)}else a?r({returnTo:window.location.origin}):i()},className:"sidebar-list",children:[Object(n.jsx)(g.a.Toggle,{}),Object(n.jsx)(g.a.Nav,{defaultSelected:e.location.pathname.toString().substring(1)||"home",children:e.config.map((function(e,t){return e.show?Object(n.jsxs)(p.NavItem,{eventKey:e.pageName.toLowerCase(),className:"log-in-out"===e.pageName.toLowerCase()?"login-button":"",children:[Object(n.jsx)(p.NavIcon,{children:Object(n.jsx)(f.a,{style:{color:"#FDEDEC"},icon:e.icon})}),Object(n.jsx)(p.NavText,{children:"log-in-out"===e.pageName.toLowerCase()?a?"Log Out":"Log In":e.pageName})]},t):""}))})]})})})}),S=a(58),N=a.n(S),k=a(25),T=a.n(k),L="https://arcane-scrubland-64110.herokuapp.com/vehicles/search/",C=a(105),F=a(208),D=a(215),I=a(207),A=a(106),P=a(103),_=a.n(P),K=(a(193),a(49)),E=a(40),B=(a(194),function(e){return Object(n.jsxs)(E.a,Object(K.a)(Object(K.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[e.data.title&&Object(n.jsx)(E.a.Header,{closeButton:!0,children:Object(n.jsx)(E.a.Title,{id:"contained-modal-title-vcenter",children:e.data.title})}),Object(n.jsxs)(E.a.Body,{className:"text-center",children:[Object(n.jsx)("span",{children:e.data.content}),e.data.author&&Object(n.jsxs)("span",{className:"text-left font-italic",children:["by: ",e.data.author]})]}),Object(n.jsx)(E.a.Footer,{children:Object(n.jsx)(C.a,{size:"sm",onClick:e.onHide,children:"Close"})})]}))}),R=(a(195),function(e){var t=Object(c.useState)(!1),a=Object(s.a)(t,2),i=a[0],r=a[1],l=Object(c.useState)(0),o=Object(s.a)(l,2),j=o[0],u=o[1],h=function(e){return"iconView"===e?d.e:"iconUrl"===e?d.h:"iconFav"===e?d.f:void 0},b=function(e,t,a){return Object(n.jsxs)(n.Fragment,{children:["iconView"===e&&Object(n.jsx)(C.a,{variant:"link",size:"sm",onClick:function(){u(a),r(!0)},children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:h(e)})}),"iconUrl"===e&&Object(n.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:h(e)})}),"iconFav"===e&&Object(n.jsx)(C.a,{variant:"link",size:"sm",onClick:function(){},children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:h(e)})})]})};return Object(n.jsxs)("div",{className:"responsive-table-container",children:[e.data.length>0&&e.data.map((function(t){return Object(n.jsx)(D.a,{children:Object(n.jsx)(D.a.Body,{children:e.columns.map((function(e,a){return Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{className:"col-4",children:Object(n.jsx)("span",{className:"font-weight-bold",children:e.text})}),Object(n.jsx)(A.a,{className:"col-8",children:e.dataField.startsWith("icon")?b(e.dataField,t[e.dataField],t.id):t[e.dataField]})]},a)}))})},t.id)})),e.data.length>0&&Object(n.jsxs)("div",{children:["Total: ",e.data.length," news"]}),0===e.data.length&&Object(n.jsx)(D.a,{children:Object(n.jsx)(D.a.Body,{children:"Sorry! We found no data."})},"0"),e.data.length>0&&Object(n.jsx)(B,{index:j,data:e.data[j],show:i,onHide:function(){return r(!1)}})]})}),H=function(e){var t="/"+e.origin;return Object(n.jsx)("div",{className:"error-component-container",children:Object(n.jsx)("section",{className:"content",children:Object(n.jsx)(F.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(D.a.Header,{children:Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:"Ooops!"})})}),Object(n.jsxs)(D.a.Body,{children:[Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:"It seems there is an internal error. Please double check if the inputs are in the right format."})}),Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{sm:3,children:Object(n.jsxs)("a",{href:t,className:"text-decoration-none text-muted",children:[Object(n.jsx)(f.a,{style:{color:"#000"},icon:d.a})," Go back"]})})})]})]})})})})},W=a(209),M=a(107),z=(a(196),function(e){var t=e.placeholder,a=e.field,c=e.method,i=e.name,r=function(e){var t;t=e?{q:e,country:a.country,apiKey:a.apiKey}:{country:a.country,apiKey:a.apiKey},T.a.get("https://newsapi.org/v2/top-headlines",{params:t}).then((function(e){var n=e.data;n.articles.map((function(e,t){return e.id=t})),c({country:a.country,apiKey:a.apiKey,filterString:t.q||"",searchingState:a.searchingState,theNews:n.articles})}))};return Object(n.jsx)("div",{className:"custom-input-container",children:Object(n.jsxs)(W.a,{className:"mt-0",children:[Object(n.jsx)(M.a,{placeholder:t,value:a[i],disabled:"filterString"===i&&!a.searchingState,className:"filterString"!==i||a.searchingState?"":"disabled-input",onKeyPress:function(e){"Enter"===e.key&&a.filterString.length>1&&r(a.filterString)},onChange:function(e){" "===e.currentTarget.value.charAt(0)&&(e.target.value=e.target.value.trim()),c({country:"country"===i?e.target.value:a.country,apiKey:"apiKey"===i?e.target.value:a.apiKey,filterString:"filterString"===i?e.target.value:"",searchingState:a.searchingState,theNews:a.theNews})}}),a[i].length>0&&Object(n.jsx)(W.a.Append,{children:Object(n.jsx)(C.a,{variant:"light",className:"clean-form-btn",onClick:function(e){e.currentTarget.parentElement.children[0].value="",c({country:"country"===i?"":a.country,apiKey:"apiKey"===i?"":a.apiKey,filterString:"",searchingState:"filterString"===i&&a.searchingState,theNews:[]}),"filterString"===i&&r()},children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:d.m})})}),a.filterString.length>0&&"filterString"===i&&Object(n.jsx)(W.a.Append,{children:Object(n.jsx)(C.a,{variant:"light",disabled:!a[i],className:a[i]?"":"disabled-input",onClick:function(){r(a.filterString)},children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:d.i})})})]})})}),U=(a(197),function(){var e=Object(c.useState)({country:"",apiKey:"",filterString:"",searchingState:!1,theNews:[]}),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)({iconIndex:0,iconColor:"#000"}),l=Object(s.a)(r,2),o=l[0],j=l[1],u=Object(c.useState)(!1),h=Object(s.a)(u,2),b=h[0],m=h[1],x=Object(c.useState)(window.innerWidth),O=Object(s.a)(x,2),p=O[0],g=O[1],v=Object(c.useState)(!1),y=Object(s.a)(v,2),w=y[0],S=y[1],k=Object(c.useState)(0),L=Object(s.a)(k,2),P=L[0],K=L[1],E=Object(c.useContext)(ie),W=E.favs,M=E.setFavs,U=[{dataField:"title",text:"Title"},{dataField:"author",text:"Author",headerStyle:{width:"200px"}},{dataField:"publishedAt",text:"Publication date",headerStyle:{width:"120px"},formatter:function(e,t){return Object(n.jsx)("div",{className:"d-flex justify-content-between",children:G(t.publishedAt)})}},{dataField:"iconView",text:"Quick preview",headerStyle:{width:"100px"},formatter:function(e,t){return Object(n.jsx)("div",{className:"d-flex justify-content-between",children:Object(n.jsx)(C.a,{variant:"link",size:"sm",onClick:function(){K(t.id),S(!0)},children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:d.e})})})}},{dataField:"iconUrl",text:"Url",headerStyle:{width:"50px"},formatter:function(e,t){return Object(n.jsx)("div",{className:"d-flex justify-content-between",children:Object(n.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:d.h})})})}},{dataField:"iconFav",text:"Set as favourite",headerStyle:{width:"70px"},formatter:function(e,t){return Object(n.jsx)("div",{className:"d-flex justify-content-between",children:Object(n.jsx)(C.a,{variant:"link",size:"sm",onClick:function(){t.iconFav=!t.iconFav,j({iconIndex:t.id,iconColor:t.iconFav?"red":"#000"}),0===W.filter((function(e){return e.id===t.id})).length&&M(t)},children:Object(n.jsx)(f.a,{style:{color:t.iconFav&&t.id===o.iconIndex?o.iconColor:"#000"},icon:d.f})})})}}],G=function(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})};return Object(c.useEffect)((function(){window.addEventListener("resize",(function(){return g(window.innerWidth)}))}),[]),Object(n.jsxs)("div",{className:"home-page-container",children:[!b&&Object(n.jsx)("section",{className:"content",children:Object(n.jsx)(F.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsxs)(D.a.Header,{children:[Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsx)("h3",{children:"Headlines today"})})}),Object(n.jsx)(I.a,{children:Object(n.jsxs)(A.a,{children:[Object(n.jsx)("h6",{children:"In order to get the news, please fill in the below inputs"}),Object(n.jsx)("p",{children:"You can use the below values:"}),Object(n.jsx)("p",{children:"Country: de"}),Object(n.jsx)("p",{children:"ApiKey: cfc7d6168c29479ba18693c171134230"})]})}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)(z,{placeholder:"Country...",field:a,method:i,name:"country"})}),Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)(z,{placeholder:"ApiKey...",field:a,method:i,name:"apiKey"})})]}),Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsx)(C.a,{block:!0,variant:"primary",disabled:!a.country||!a.apiKey,className:a.country&&a.apiKey?"custom-button":"custom-button disabled-input",onClick:function(e){try{if(!a.country||!a.apiKey)throw new H("It seems there is an internal error. Please double check if the inputs are in the right format.");e.currentTarget.parentElement.children[0].blur(),t={country:a.country,apiKey:a.apiKey},i({country:a.country,apiKey:a.apiKey,filterString:"",searchingState:a.searchingState,theNews:[]}),T.a.get("https://newsapi.org/v2/top-headlines",{params:t}).then((function(e){var t=e.data;t.articles.map((function(e,t){return e.id=t,e.iconFav=!1,e})),i({country:a.country,apiKey:a.apiKey,filterString:"",searchingState:!0,theNews:t.articles})})).catch((function(e){m(!0)}))}catch(n){m(!0)}var t},children:"Get all headlines"})})}),a.searchingState&&Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsx)(z,{placeholder:"Search for headlines...",field:a,method:i,name:"filterString"})})})]}),a.searchingState&&Object(n.jsx)(D.a.Body,{children:p>768?Object(n.jsx)(N.a,{keyField:"id",bootstrap4:!0,condensed:!0,data:a.theNews,columns:U,loading:!0,pagination:_()({page:1,sizePerPage:10,lastPageText:">>",firstPageText:"<<",nextPageText:">",prePageText:"<",hideSizePerPage:!0,hidePageListOnlyOnePage:!0,showTotal:!0}),noDataIndication:Object(n.jsx)("div",{children:"Sorry! We found no data."})}):Object(n.jsx)(R,{data:a.theNews,columns:U,filterString:a.filterString,params:{country:a.country,apiKey:a.apiKey}})})]})})}),b&&Object(n.jsx)(H,{origin:"home"}),a.theNews.length>0&&Object(n.jsx)(B,{index:P,data:a.theNews[P],show:w,onHide:function(){return S(!1)}})]})}),G=(a(198),function(){var e=Object(j.b)().user;return Object(n.jsx)("div",{className:"profile-page-container",children:Object(n.jsx)("section",{className:"content",children:Object(n.jsx)(F.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(D.a.Header,{children:Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsx)("img",{src:e.picture,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})})})}),Object(n.jsx)(D.a.Body,{children:Object(n.jsx)(I.a,{children:Object(n.jsxs)(A.a,{children:["Username: ",Object(n.jsx)("h3",{children:e.name}),"Email: ",Object(n.jsx)("h5",{children:e.email})]})})})]})})})})}),q=a(212),J=(a(199),function(){var e=Object(c.useState)({email:"",password:"",token:""}),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)(!1),l=Object(s.a)(r,2),o=l[0],j=l[1],u=Object(c.useState)({theData:[],filterString:"",searchingState:!1}),h=Object(s.a)(u,2),b=h[0],m=h[1],x=Object(c.useState)(window.innerWidth),O=Object(s.a)(x,2),p=O[0],g=O[1],v="",y="",w=[{dataField:"license_plate",text:"Licence Plate"},{dataField:"merk",text:"Brand"},{dataField:"handelsbenaming",text:"Commercial Name"},{dataField:"voertuigsoort",text:"Type"},{dataField:"eerste_kleur",text:"Color"},{dataField:"aantal_zitplaatsen",text:"Number of seats"},{dataField:"catalogusprijs",text:"Catalog price"},{dataField:"image_url",text:"Image",formatter:function(e,t){return Object(n.jsx)("div",{className:"d-flex justify-content-between",children:Object(n.jsx)("a",{href:t.image_url,target:"_blank",rel:"noreferrer",children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:d.h})})})}}],S=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.auth_token?(i({email:a.email,password:a.password,token:e.auth_token}),{Authorization:"Bearer "+e.auth_token}):{}},k=function(e){var t={cx:"e36d1428dc503ed35",key:"AIzaSyAnGrIDQeZF2AAxuuJejhonDo8_-cq_qks",q:e};T.a.get("https://www.googleapis.com/customsearch/v1",{params:t}).then((function(e){var t=e.data;if(t){for(var a in t.items)for(var n in Object.keys(t.items[a]))"pagemap"===Object.keys(t.items[a])[n]&&t.items[a].pagemap.cse_image&&0===v.length&&(v=t.items[a].pagemap.cse_image[0].src);!function(e,t){var a={image_url:e};T.a.get(L+t,{headers:S()}).then((function(e){var n=e.data;n?(y=n.id,T.a.put("https://arcane-scrubland-64110.herokuapp.com/vehicles/"+y,{vehicle:a},{headers:S()}).then((function(){T.a.get(L+t,{headers:S()}).then((function(e){var t=e.data;t?(t.id=0,m({theData:[t],filterString:b.filterString,searchingState:!0})):m({theData:[],filterString:b.filterString,searchingState:b.searchingState})}))}))):m({theData:[],filterString:b.filterString,searchingState:b.searchingState})}))}(v,b.filterString)}}))},P=function(e){var t;m({theData:[],filterString:(t={kenteken:e}).kenteken||"",searchingState:!0}),T.a.get(" https://opendata.rdw.nl/resource/m9d7-ebf2.json",{params:t}).then((function(e){var t=e.data;if(t&&t.length>0){var a=t[0].merk+"+"+t[0].handelsbenaming;k(a)}}))};return Object(c.useEffect)((function(){window.addEventListener("resize",(function(){return g(window.innerWidth)}))}),[]),Object(n.jsxs)("div",{className:"mobility-page-container",children:[!o&&Object(n.jsx)("section",{className:"content",children:Object(n.jsxs)(F.a,{children:[0===a.token.length&&Object(n.jsxs)(D.a,{children:[Object(n.jsx)(D.a.Header,{children:Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsx)("h3",{children:"Please login first!"})})})}),Object(n.jsx)(D.a.Body,{children:Object(n.jsxs)(q.a,{children:[Object(n.jsx)(q.a.Group,{controlId:"mobilityLogin",children:Object(n.jsx)(W.a,{size:"sm",className:"mb-3",children:Object(n.jsx)(M.a,{"aria-label":"email",placeholder:"Email",onChange:function(e){" "===e.currentTarget.value.charAt(0)&&(e.target.value=e.target.value.trim()),i({email:e.currentTarget.value,password:a.password,token:a.token})}})})}),Object(n.jsx)(q.a.Group,{controlId:"formBasicPassword",children:Object(n.jsx)(W.a,{size:"sm",className:"mb-3",children:Object(n.jsx)(M.a,{"aria-label":"password",placeholder:"Password",onChange:function(e){" "===e.currentTarget.value.charAt(0)&&(e.target.value=e.target.value.trim()),i({email:a.email,password:e.currentTarget.value,token:a.token})}})})}),Object(n.jsx)(C.a,{block:!0,variant:"primary",disabled:0===a.email.length||0===a.password.length,className:0===a.email.length||0===a.password.length?"custom-button disabled-input":"custom-button",onClick:function(){var e;e=a,T.a.post("https://arcane-scrubland-64110.herokuapp.com/auth/login",e).then((function(e){return e.data.auth_token&&localStorage.setItem("user",JSON.stringify(e.data)),S(),e.data})).catch((function(e){j(!0)}))},children:"Log in"})]})})]}),a.token.length>0&&Object(n.jsxs)(D.a,{children:[Object(n.jsxs)(D.a.Header,{children:[Object(n.jsx)("h5",{children:"Search feature: please provide the licenseplate in order to perform the search."}),Object(n.jsx)("p",{children:"For example, you can search by: XXAAXX, RF661H, NL706S, WNVP76"})]}),Object(n.jsxs)(D.a.Body,{children:[Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsxs)(W.a,{className:"mt-0",children:[Object(n.jsx)(M.a,{placeholder:"Search by licenseplate...",value:b.filterString,onKeyPress:function(e){"Enter"===e.key&&b.filterString.length>1&&P(b.filterString)},onChange:function(e){" "===e.currentTarget.value.charAt(0)&&(e.target.value=e.target.value.trim()),m({theData:b.theData,filterString:e.target.value,searchingState:b.searchingState})}}),b.filterString.length>0&&Object(n.jsx)(W.a.Append,{children:Object(n.jsx)(C.a,{variant:"light",className:"clean-form-btn",onClick:function(e){e.currentTarget.parentElement.children[0].value="",m({theData:[],filterString:"",searchingState:b.searchingState})},children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:d.m})})}),b.filterString.length>0&&Object(n.jsx)(W.a.Append,{children:Object(n.jsx)(C.a,{variant:"light",onClick:function(){P(b.filterString)},children:Object(n.jsx)(f.a,{style:{color:"#000"},icon:d.i})})})]})})}),Object(n.jsx)(I.a,{children:b.searchingState&&Object(n.jsx)(A.a,{children:p>768?Object(n.jsx)(N.a,{keyField:"id",bootstrap4:!0,condensed:!0,data:b.theData,columns:w,loading:!0,noDataIndication:Object(n.jsx)("div",{children:"Sorry! We found no data."})}):Object(n.jsx)(R,{data:b.theData,columns:w,filterString:b.filterString})})}),Object(n.jsx)(I.a,{children:Object(n.jsx)(C.a,{block:!0,variant:"primary",className:"custom-button",onClick:function(){i({email:"",password:"",token:a.token}),localStorage.removeItem("user"),i({email:a.email,password:a.password,token:""})},children:"Log out"})})]})]})]})}),o&&Object(n.jsx)(H,{origin:"mobility"})]})}),V=(a(200),function(e){for(var t=[],a=0;a<=e.favs.length/3;a++)t.push(Object(n.jsx)("div",{},a));return Object(n.jsx)("div",{className:"bookmarks-page-container",children:Object(n.jsx)("section",{className:"content",children:Object(n.jsx)(F.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(D.a.Header,{children:Object(n.jsx)("h3",{children:"Below are your bookmarks"})}),Object(n.jsx)(D.a.Body,{children:Object(n.jsx)("div",{className:"container",children:t.map((function(t,a){return Object(n.jsx)("div",{className:"row text-center",children:e.favs.filter((function(e,t){return t>=3*a&&t<3*a+3})).map((function(e,t){return Object(n.jsx)("div",{className:"col-lg-4 mb-5 mb-lg-0 card bg-secondary text-white",children:e.title},t)}))},a)}))})})]})})})})}),X=a(210),Y=a(211),Z=a(75),Q=a(20);function $(e){var t;return"1"===e.time.toString()&&(t=e.value),"2"===e.time.toString()&&(t=12*e.value),"3"===e.time.toString()&&(t=52*e.value),"4"===e.time.toString()&&(t=261*e.value),t}function ee(e,t){var a,n,c,i=e.allowance,r=[],s=0,l=[];if(c=t,t>e.allowanceLimit){var o=t-e.allowanceLimit;i=o>=2*i?0:e.allowance-o/2}return(n=function(e,t,a){var n=[];return t/e.highIncomeMaxLimit>1?(n[0]=t-e.highIncomeMaxLimit,n[1]=e.highIncomeMaxLimit-e.basicIncomeMaxLimit+e.allowance,n[2]=e.basicIncomeMaxLimit-e.allowance):t/e.basicIncomeMaxLimit>1?t/e.allowanceLimit>1?(n[0]=t-e.basicIncomeMaxLimit+e.allowance-a,n[1]=e.basicIncomeMaxLimit-e.allowance):(n[0]=t-e.basicIncomeMaxLimit,n[1]=e.basicIncomeMaxLimit-e.allowance):t/e.allowance>1?n[0]=t-e.allowance:n=[],n.reverse()}(e,t,i)).length>0&&(s=(l=n.map((function(t,a){return e.rates[a]/100*t}))).reduce((function(e,t){return e+t}))),a=t-s-(r=t>e.insurance.lowLimit?t<=e.insurance.highLimit?[{amount:t-e.insurance.lowLimit,rate:e.insurance.lowRate,value:e.insurance.lowRate/100*(t-e.insurance.lowLimit)}]:[{amount:e.insurance.highLimit-e.insurance.lowLimit,rate:e.insurance.lowRate,value:e.insurance.lowRate/100*(e.insurance.highLimit-e.insurance.lowLimit)},{amount:t-e.insurance.highLimit,rate:e.insurance.highRate,value:e.insurance.highRate/100*(t-e.insurance.highLimit)}]:[{amount:t,rate:0,value:0}]).map((function(e){return e.value})).reduce((function(e,t){return e+t})),0===n.length&&(n[0]=t,l[0]=t),{taxes:s,insuranceTaxes:r.map((function(e){return e.value})).reduce((function(e,t){return e+t})),income:a,gross:c,initialAllowance:e.allowance,allowance:i,taxSplits:l.map((function(t,a){return{amount:n[a],rate:n[a]<=e.allowance?0:e.rates[a],value:t}})),insuranceSplits:r}}var te=[{id:"19-20",allowance:12500,basicIncomeMaxLimit:5e4,highIncomeMaxLimit:15e4,rates:[20,40,45],allowanceLimit:1e5,insurance:{lowLimit:8628,lowRate:12,highLimit:50004,highRate:2}},{id:"20-21",allowance:12500,basicIncomeMaxLimit:5e4,highIncomeMaxLimit:15e4,rates:[20,40,45],allowanceLimit:1e5,insurance:{lowLimit:9504,lowRate:12,highLimit:50004,highRate:2}}],ae=(a(201),function(){var e=Object(c.useState)({taxes:"",insuranceTaxes:"",income:"",gross:"",initialAllowance:"",allowance:"",taxSplits:[],insuranceSplits:""}),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)({amount:"",year:"",buttonsData:{type:{value:""},time:{value:""}}}),l=Object(s.a)(r,2),o=l[0],j=l[1],u=Object(c.useState)(!1),h=Object(s.a)(u,2),b=h[0],m=h[1],x=Object(c.useState)(!0),O=Object(s.a)(x,2),p=O[0],g=O[1],v="\xa3",y=[{label:"Taxes per year",value:a.taxes,customClass:""},{label:"Insurance taxes per year",value:a.insuranceTaxes,customClass:""},{label:"Gross income per month",value:"1"===o.buttonsData.type.value?a.gross/12:$({value:o.amount,type:o.buttonsData.type.value,time:o.buttonsData.time.value})/12,customClass:"1"===o.buttonsData.type.value?"income-per-month":""},{label:"Net income per month",value:"2"===o.buttonsData.type.value?a.income/12:$({value:o.amount,type:o.buttonsData.type.value,time:o.buttonsData.time.value})/12,customClass:"2"===o.buttonsData.type.value?"income-per-month":""},{label:"Net income per year",value:a.income,customClass:""},{label:"Personal allowance",value:a.allowance,customClass:""}],w={timeBreakdown:[{name:"Yearly",value:"1"},{name:"Monthly",value:"2"},{name:"Weekly",value:"3"},{name:"Daily",value:"4"}],typeBreakdown:[{name:"Net",value:"1"},{name:"Gross",value:"2"}]},S=function(e){return Object(n.jsx)(D.a,{className:"nav-button-card",children:Object(n.jsxs)(C.a,{variant:"btn-primary btn-circle btn-lg",onClick:function(e){g(!p),e.currentTarget.parentElement.querySelector(".btn-circle").blur()},children:[Object(n.jsx)("h3",{children:p?"Click to see details":"Back to main screen"}),Object(n.jsx)(f.a,{className:"nav-button-arrow",style:{color:"#566573"},icon:e})]})})},N=function(e){var t=e.buttons,a=e.field,r=Object(c.useState)(o.buttonsData[a].value),l=Object(s.a)(r,2),d=l[0],u=l[1];return Object(n.jsx)(D.a,{className:"d-flex flex-column configuration-button",children:t&&Object(n.jsx)(X.a,{toggle:!0,children:t.map((function(e,t){return Object(n.jsx)(Y.a,{type:"radio",className:"radio-button",name:"radio",size:"sm",value:e.value,checked:d===e.value,onChange:function(e){u(e.currentTarget.value),i({income:""}),j({amount:o.amount,year:o.year,buttonsData:{type:{value:"type"===a?e.currentTarget.value:o.buttonsData.type.value},time:{value:"time"===a?e.currentTarget.value:o.buttonsData.time.value}}})},children:e.name},t)}))})})};return Object(n.jsxs)("div",{className:"tax-page-container",children:[Object(n.jsx)("section",{className:"content",children:Object(n.jsx)(F.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(D.a.Header,{className:"text-center",children:Object(n.jsx)(I.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsx)("h3",{children:"Welcome to the tax calculator page"})})})}),Object(n.jsx)(D.a.Body,{className:"d-flex flex-column",children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{md:2,children:a.income.toString().length>0&&!p&&Object(n.jsx)("div",{className:"nav-button top",children:S(d.a)})}),Object(n.jsxs)(A.a,{md:8,children:[Object(n.jsx)(Z.a,{in:p,children:Object(n.jsxs)("div",{className:p?"":"main-screen",children:[Object(n.jsx)("h6",{children:"This widget will help you better project your monthly net income."}),Object(n.jsx)("p",{children:"To use this calculator you need to fill in the below two fields, representing the desired annual gross income and the fiscal year to refer the calculation."}),Object(n.jsxs)(q.a,{children:[Object(n.jsx)(q.a.Group,{controlId:"incomeField",children:Object(n.jsxs)(W.a,{className:"mb-2 mr-sm-2",children:[Object(n.jsx)(q.a.Control,{className:"shadow-none",type:"number",placeholder:"Insert your income",onChange:function(e){var t=e.currentTarget.value.toString();"0"===t.charAt(0)&&(e.currentTarget.value=t.substring(1,t.length)),t.length>10&&(e.currentTarget.value=t.substring(0,10)),i({income:""}),j({amount:e.currentTarget.value,year:o.year,buttonsData:{type:{value:o.buttonsData.type.value},time:{value:o.buttonsData.time.value}}})}}),Object(n.jsx)(W.a.Append,{children:Object(n.jsx)(W.a.Text,{children:v})})]})}),Object(n.jsxs)(q.a.Group,{className:"breakdown-buttons",children:[Object(n.jsx)(N,{buttons:w.typeBreakdown,field:"type"}),Object(n.jsx)(N,{buttons:w.timeBreakdown,field:"time"})]}),Object(n.jsx)(q.a.Group,{controlId:"yearField",children:Object(n.jsxs)(q.a.Control,{as:"select",className:"shadow-none",onChange:function(e){i({income:""}),j({amount:o.amount,year:e.currentTarget.value,buttonsData:{type:{value:o.buttonsData.type.value},time:{value:o.buttonsData.time.value}}})},children:[Object(n.jsx)("option",{value:"-",children:"Please select a year"}),Object(n.jsx)("option",{value:"19-20",children:"2019-2020"}),Object(n.jsx)("option",{value:"20-21",children:"2020-2021"})]})}),Object(n.jsx)(C.a,{className:"button-calculate btn btn-primary btn-block shadow-none",onClick:function(e){if(0===Number(o.amount)||5!==o.year.length||Object.keys(o.buttonsData).filter((function(e){return""===o.buttonsData[e].value})).length>0)m(!0);else{var t=te.filter((function(e){return e.id.toString()===o.year.toString()}));"1"===o.buttonsData.type.value?i(function(e,t){var a,n=[12,20,10,5],c=[e.insurance.lowLimit,e.allowance,e.basicIncomeMaxLimit,e.highIncomeMaxLimit];return t>e.insurance.lowLimit?(a=(100*t-n[0]*c[0])/(100-n[0]))>c[1]&&(a=(100*t-n[0]*c[0]-n[1]*c[1])/(100-n[0]-n[1]))>c[2]&&(a=(100*t-n[0]*c[0]-n[1]*c[1]-n[2]*c[2])/(100-n[0]-n[1]-n[2]))>c[3]&&(a=(100*t-n[0]*c[0]-n[1]*c[1]-n[2]*c[2]-n[3]*c[3])/(100-n[0]-n[1]-n[2]-n[3])):a=t,ee(e,a)}(t[0],$({value:o.amount,type:o.buttonsData.type.value,time:o.buttonsData.time.value}))):i(ee(t[0],$({value:o.amount,type:o.buttonsData.type.value,time:o.buttonsData.time.value})))}e.currentTarget.parentElement.querySelector(".button-calculate").blur()},children:Object(n.jsx)("h3",{children:"Calculate"})})]}),Object(n.jsx)("div",{className:"income-result text-center",children:a.income.toString().length>0&&Object(n.jsx)(D.a,{children:y.map((function(e,t){return Object(n.jsxs)(I.a,{className:e.customClass,children:[Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)("h6",{children:Object(n.jsx)("small",{children:e.label})})}),Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)("h3",{children:Object(n.jsx)(Q.a,{value:Number(e.value).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})})})]},t)}))})})]})}),Object(n.jsx)(Z.a,{in:!p,children:Object(n.jsx)("div",{className:p?"second-screen":"",children:Object(n.jsx)("div",{className:"income-result text-center",children:a.income.toString().length>0&&Object(n.jsxs)(D.a,{children:[Object(n.jsx)(I.a,{className:"details-item",children:Object(n.jsx)(A.a,{md:12,children:"Below you can see the calculation scheme applied on your income"})}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{md:6,children:"Gross salary per year:"}),Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)(Q.a,{value:Number(o.amount).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})})]}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{md:6,children:"Personal allowance:"}),Object(n.jsxs)(A.a,{md:6,children:[Object(n.jsx)(Q.a,{value:Number(a.initialAllowance).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})," ",a.initialAllowance>a.allowance?"reduced to ":"",a.initialAllowance>a.allowance&&Object(n.jsx)(Q.a,{value:Number(a.allowance).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})]})]}),Object(n.jsx)(I.a,{className:"details-item",children:Object(n.jsx)(A.a,{md:12,children:"Based on the existing laws, your gross income will be split into the following intervals. A different tax rate will then be applied on each interval"})}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{children:"Amount/year"}),Object(n.jsx)(A.a,{children:"Rate"}),Object(n.jsx)(A.a,{children:"Value/year"})]}),a.taxSplits.map((function(e,t){return Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(Q.a,{value:Number(e.amount).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})}),Object(n.jsxs)(A.a,{children:[e.rate,"%"]}),Object(n.jsx)(A.a,{children:Object(n.jsx)(Q.a,{value:Number(e.value).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})})]},t)})),Object(n.jsx)(I.a,{className:"details-item",children:Object(n.jsx)(A.a,{md:12,children:"The calculation of the National Insurance is made by the below breakpoints"})}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{children:"Amount/year"}),Object(n.jsx)(A.a,{children:"Rate"}),Object(n.jsx)(A.a,{children:"Value/year"})]}),a.insuranceSplits.map((function(e,t){return Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(Q.a,{value:Number(e.amount).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})}),Object(n.jsxs)(A.a,{children:[e.rate,"%"]}),Object(n.jsx)(A.a,{children:Object(n.jsx)(Q.a,{value:Number(e.value).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})})]},t)})),Object(n.jsx)(I.a,{className:"details-item",children:Object(n.jsx)(A.a,{md:12,children:"Resulting the below net income values"})}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{md:6,children:"Yearly"}),Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)("strong",{children:Object(n.jsx)(Q.a,{value:Number(a.income).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})})})]}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{md:6,children:"Monthly"}),Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)("strong",{children:Object(n.jsx)(Q.a,{value:Number(a.income/12).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})})})]}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{md:6,children:"Weekly"}),Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)("strong",{children:Object(n.jsx)(Q.a,{value:Number(a.income/52).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})})})]}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{md:6,children:"Daily"}),Object(n.jsx)(A.a,{md:6,children:Object(n.jsx)("strong",{children:Object(n.jsx)(Q.a,{value:Number(a.income/261).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:v})})})]})]})})})})]}),Object(n.jsx)(A.a,{md:2,children:a.income.toString().length>0&&Object(n.jsx)("div",{className:"nav-button bottom ".concat(p?"right":"left"),children:S(p?d.b:d.a)})})]})})]})})}),Object(n.jsx)(B,{index:"0",data:{content:"Please remember to provide values for both fields"},show:b,onHide:function(){return m(!1)}})]})}),ne=a(109),ce=function(e){var t=e.component,a=Object(ne.a)(e,["component"]);return Object(n.jsx)(o.b,Object(K.a)({component:Object(j.c)(t,{onRedirecting:function(){return Object(n.jsx)(O,{})}})},a))},ie=(a(202),Object(c.createContext)()),re=Object(c.createContext)();function se(e,t){return[].concat(Object(l.a)(e),[t])}function le(e,t){return t}var oe=function(){var e=Object(j.b)(),t=e.isAuthenticated,a=e.isLoading,i=Object(o.g)(),r=Object(o.h)(),l=Object(c.useReducer)(se,[]),u=Object(s.a)(l,2),h=u[0],x=u[1],p=Object(c.useReducer)(le,""),g=Object(s.a)(p,2),f=g[0],v=g[1],y=[{pageName:"Home",icon:d.g,show:!0},{pageName:"Mobility",icon:d.l,show:!0},{pageName:"Profile",icon:d.n,show:t},{pageName:"Bookmarks",icon:d.c,show:!0},{pageName:"Tax",icon:d.d,show:!0},{pageName:"Log-in-out",icon:t?d.k:d.j,show:!0}];return a?Object(n.jsx)(O,{}):Object(n.jsx)(ie.Provider,{value:{favs:h,setFavs:x},children:Object(n.jsxs)("div",{id:"body-row",className:"row no-gutters",children:[Object(n.jsx)("div",{className:"col-sm-1",children:Object(n.jsx)(re.Provider,{value:{currentLocation:f,setCurrentLocation:v},children:Object(n.jsx)(w,{location:r,history:i,config:y})})}),Object(n.jsxs)("div",{className:"col-sm-11",children:[Object(n.jsx)(b,{location:r,currentLocation:f,history:i,config:y}),Object(n.jsx)("main",{role:"main",className:"container-fluid flex-grow-1 overflow-auto",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/",exact:!0,render:function(){return Object(n.jsx)(o.a,{to:"/home"})}}),Object(n.jsx)(o.b,{path:"/home",component:U}),Object(n.jsx)(ce,{path:"/profile",component:G}),Object(n.jsx)(o.b,{path:"/mobility",component:J}),Object(n.jsx)(o.b,{path:"/bookmarks",render:function(){return Object(n.jsx)(V,{favs:h})}}),Object(n.jsx)(o.b,{path:"/tax",component:ae})]})}),Object(n.jsx)(m,{})]})]})})},je=a(35),de=function(e){var t=e.children,a=Object(o.g)(),c=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_CLIENT_ID:"E7s7NF4ByrGaP3y1L06bW3ZXxJcYccUp",REACT_APP_AUTH0_DOMAIN:"dev-nev3xdc5.eu.auth0.com"}).REACT_APP_AUTH0_AUDIENCE;return Object(n.jsx)(j.a,{domain:"dev-nev3xdc5.eu.auth0.com",clientId:"E7s7NF4ByrGaP3y1L06bW3ZXxJcYccUp",redirectUri:window.location.origin,onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:c,children:t})};a(203),a(204);r.a.render(Object(n.jsx)(je.a,{children:Object(n.jsx)(de,{children:Object(n.jsx)(oe,{})})}),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.fed8e356.chunk.js.map